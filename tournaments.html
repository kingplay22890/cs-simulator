<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞–º–∏</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 min-h-screen text-slate-200">
  <div class="container mx-auto p-6">
    <!-- –®–∞–ø–∫–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
    <div class="flex items-center justify-between mb-8">
      <h1 class="text-4xl font-bold">üèÜ –¢—É—Ä–Ω–∏—Ä—ã</h1>
      <div class="flex gap-3">
        <a href="index.html" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition">‚Üê –ù–∞–∑–∞–¥</a>
        <button id="createTournamentBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition">+ –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
      </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤ -->
    <div id="tournamentsContainer" class="grid gap-6">
      <div class="bg-gray-800 rounded-lg p-8 text-center text-gray-400">
        –ó–∞–≥—Ä—É–∂–∞—é —Ç—É—Ä–Ω–∏—Ä—ã...
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞ -->
  <div id="createTournamentModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50">
    <div class="bg-gray-800 rounded-lg p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700">
      <h2 class="text-2xl font-bold mb-6">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä</h2>
      
      <form id="createTournamentForm" class="space-y-4">
        <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
        <div>
          <label class="block text-sm text-gray-400 mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ *</label>
          <input type="text" id="tournamentName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Grand Final 2025" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none" required>
        </div>

        <!-- –í—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥ -->
        <div>
          <label class="block text-sm text-gray-400 mb-2">–ö–æ–º–∞–Ω–¥—ã *</label>
          <div id="teamsSelection" class="bg-gray-700 rounded-lg p-4 max-h-60 overflow-y-auto border border-gray-600">
            <p class="text-gray-400">–ó–∞–≥—Ä—É–∂–∞—é –∫–æ–º–∞–Ω–¥—ã...</p>
          </div>
          <p class="text-xs text-gray-500 mt-2">–í—ã–±—Ä–∞–Ω–æ: <span id="selectedTeamsCount">0</span> –∫–æ–º–∞–Ω–¥</p>
        </div>

        <!-- –°—Ç–∞–¥–∏—è –≥—Ä—É–ø–ø—ã -->
        <div>
          <label class="block text-sm text-gray-400 mb-2">–ì—Ä—É–ø–ø–æ–≤–∞—è —Å—Ç–∞–¥–∏—è</label>
          <select id="groupStageFormat" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
            <option value="none">–ë–µ–∑ –≥—Ä—É–ø–ø–æ–≤–æ–π —Å—Ç–∞–¥–∏–∏</option>
            <option value="swiss">–®–≤–µ–π—Ü–∞—Ä—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ (–¥–æ 3 –ø–æ–±–µ–¥/–ø–æ—Ä–∞–∂–µ–Ω–∏–π)</option>
            <option value="round-robin">–ö—Ä—É–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</option>
            <option value="double">Double Elimination (–≥—Ä—É–ø–ø–æ–≤–∞—è —Å—Ç–∞–¥–∏—è)</option>
          </select>
          <p class="text-xs text-gray-500 mt-2">–ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–∏—Å—Ç–µ–º—ã —Ç—É—Ä–Ω–∏—Ä –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ —Ä–∞—É–Ω–¥—ã –ø–µ—Ä–µ–¥ –ø–ª–µ–π-–æ—Ñ—Ñ–æ–º</p>
        </div>

        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø (–¥–ª—è double elimination) -->
        <div id="groupsCountContainer" class="hidden">
          <label class="block text-sm text-gray-400 mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø *</label>
          <input type="number" id="groupsCount" min="1" max="8" value="2" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
          <p class="text-xs text-gray-500 mt-2">–ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ—Ä–æ–≤–Ω—É –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏</p>
        </div>

        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—É–Ω–¥–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø—ã (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –≥—Ä—É–ø–ø–æ–≤–∞—è —Å—Ç–∞–¥–∏—è) -->
        <div id="roundsContainer" class="hidden">
          <label class="block text-sm text-gray-400 mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—É–Ω–¥–æ–≤ *</label>
          <input type="number" id="groupRounds" min="1" max="10" value="3" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
        </div>

        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ –≤ –ø–ª–µ–π-–æ—Ñ—Ñ -->
        <div>
          <label class="block text-sm text-gray-400 mb-2">–ö–æ–º–∞–Ω–¥ –≤ –ø–ª–µ–π-–æ—Ñ—Ñ *</label>
          <select id="playoffTeams" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
            <option value="4">4 –∫–æ–º–∞–Ω–¥—ã</option>
            <option value="8">8 –∫–æ–º–∞–Ω–¥</option>
            <option value="16">16 –∫–æ–º–∞–Ω–¥</option>
          </select>
        </div>

        <!-- –§–æ—Ä–º–∞—Ç –ø–ª–µ–π-–æ—Ñ—Ñ -->
        <div>
          <label class="block text-sm text-gray-400 mb-2">–§–æ—Ä–º–∞—Ç –ø–ª–µ–π-–æ—Ñ—Ñ *</label>
          <select id="playoffFormat" class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
            <option value="single">Single Elimination</option>
            <option value="double">Double Elimination</option>
          </select>
          <p class="text-xs text-gray-500 mt-2">Single Elimination: –ø—Ä–æ–∏–≥—Ä—ã—à = –≤—ã–±—ã–≤–∞–Ω–∏–µ | Double Elimination: –≤—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ –Ω–∏–∂–Ω—é—é —Å–µ—Ç–∫—É</p>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="flex gap-3 pt-4">
          <button type="button" id="cancelCreateBtn" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition">–°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
        </div>
      </form>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç—É—Ä–Ω–∏—Ä–∞ -->
  <div id="viewTournamentModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 overflow-y-auto">
    <div class="bg-gray-800 rounded-lg p-8 max-w-6xl w-full mx-4 my-8 border border-gray-700">
      <div class="flex items-center justify-between mb-6">
        <h2 id="tournamentTitle" class="text-2xl font-bold"></h2>
        <button id="closeTournamentViewBtn" class="text-gray-400 hover:text-white text-2xl">√ó</button>
      </div>

      <div class="flex gap-4 mb-6">
        <button id="groupStageTab" class="px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold">–ì—Ä—É–ø–ø–æ–≤–∞—è —Å—Ç–∞–¥–∏—è</button>
        <button id="playoffTab" class="px-4 py-2 rounded-lg bg-gray-700 text-gray-300 font-semibold hover:bg-gray-600">–ü–ª–µ–π-–æ—Ñ—Ñ</button>
      </div>

      <!-- –ì—Ä—É–ø–ø–æ–≤–∞—è —Å—Ç–∞–¥–∏—è -->
      <div id="groupStageContent" class="space-y-6">
        <div id="groupsContainer"></div>
      </div>

      <!-- –ü–ª–µ–π-–æ—Ñ—Ñ -->
      <div id="playoffContent" class="hidden space-y-6">
        <div id="bracketContainer" class="overflow-x-auto"></div>
      </div>

      <div class="flex gap-3 pt-6 border-t border-gray-700">
        <button id="deleteTournamentBtn" class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition">–£–¥–∞–ª–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
        <button id="closeTournamentBtn" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/config.js"></script>
  <script src="js/api.js"></script>
  <script src="js/tournament-manager-v2.js"></script>
  <script src="js/tournaments-ui-v2.js"></script>
</body>
</html>
